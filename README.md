# Health Control App
> –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è: **0.4.0**

Health Control App ‚Äî —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –≤–≤–æ–¥–∞, —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –∞–Ω–∞–ª–∏–∑–∞ –∞—Ä—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–≥–æ –¥–∞–≤–ª–µ–Ω–∏—è –∏ –ø—É–ª—å—Å–∞ —Å –ø–æ–º–æ—â—å—é Telegram-–±–æ—Ç–∞ –∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

- **health-data-service** ‚Äî –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –æ –∑–¥–æ—Ä–æ–≤—å–µ.
- **telegram-input-service** ‚Äî Telegram-–±–æ—Ç –¥–ª—è –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.
- **pdf-service** ‚Äî –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ PDF-–æ—Ç—á—ë—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
health-control-app/
‚îú‚îÄ‚îÄ health-data-service/            	# –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ telegram-input-service/         	# –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å Telegram-–±–æ—Ç–∞ –¥–ª—è –≤–≤–æ–¥–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ pdf-service/                        # –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ PDF –æ—Ç—á—ë—Ç–æ–≤
‚îú‚îÄ‚îÄ Dockerfile-health-data-service  	# Docker-—Ñ–∞–π–ª –¥–ª—è health-data-service
‚îú‚îÄ‚îÄ Dockerfile-telegram-input-service   # Docker-—Ñ–∞–π–ª –¥–ª—è telegram-input-service
‚îú‚îÄ‚îÄ Dockerfile-pdf-service              # Docker-—Ñ–∞–π–ª –¥–ª—è pdf-service
‚îú‚îÄ‚îÄ pom.xml                         	# –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π POM —Ñ–∞–π–ª (Maven multi-module)
‚îú‚îÄ‚îÄ .gitignore                      	# –û–±—â–∏–π gitignore
‚îú‚îÄ‚îÄ CHANGELOG.md                       	# –ñ—É—Ä–Ω–∞–ª –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚îî‚îÄ‚îÄ README.md                       	# –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö** (`health-data-service`, –ø–æ—Ä—Ç `8080`):

```bash
cd health-data-service
mvn spring-boot:run
```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ Telegram Input-—Å–µ—Ä–≤–∏—Å** (`telegram-input-service`, –ø–æ—Ä—Ç `8081`):

```bash
cd telegram-input-service
mvn spring-boot:run
```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ Pdf-—Å–µ—Ä–≤–∏—Å** (`pdf-service`, –ø–æ—Ä—Ç `8083`):

---

## ‚òëÔ∏è –í—ã–±–æ—Ä –ø—Ä–æ—Ñ–∏–ª—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞
–ê–∫—Ç–∏–≤–Ω—ã–π Spring-–ø—Ä–æ—Ñ–∏–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è SPRING_PROFILES_ACTIVE:

–ü—Ä–∏–º–µ—Ä –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
SPRING_PROFILES_ACTIVE=local mvn spring-boot:run
```
–ü—Ä–∏–º–µ—Ä –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω-—Å—Ä–µ–¥—ã:
```bash
SPRING_PROFILES_ACTIVE=prod mvn spring-boot:run
```

–î–ª—è `telegram-input-service` –¥–æ—Å—Ç—É–ø–µ–Ω –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å `sleep`, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å –ø—Ä–æ—Ñ–∏–ª—è–º–∏ 
`local` –∏–ª–∏ `prod`. –ü—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ —Å–µ—Ä–≤–∏—Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–∑–±—É–¥–∏—Ç—å —É—Å–Ω—É–≤—à–∏–µ —Å–µ—Ä–≤–µ—Ä–∞.

–ü—Ä–∏–º–µ—Ä –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω-—Å—Ä–µ–¥—ã:
```bash
SPRING_PROFILES_ACTIVE="prod,sleep" mvn spring-boot:run
```
---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ö–∞–∂–¥—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â—É—é —Å–∏—Å—Ç–µ–º—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

- `application.yaml` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª, –≤–∫–ª—é—á–∞—é—â–∏–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- `application-local.yaml` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
- `application-prod.yaml` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω-—Å—Ä–µ–¥—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è.
- `messages.yaml` ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ (–≤–∫–ª—é—á–∞—è —Å–æ–æ–±—â–µ–Ω–∏—è –ª–æ–≥–æ–≤ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π).

`telegram-input-service` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ—Ñ–∏–ª—è `sleep`:
- `application-sleep.yaml` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è `sleep`.

### üõ°Ô∏è –°–µ–∫—Ä–µ—Ç—ã –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

- **–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** (—Ç–æ–∫–µ–Ω—ã, –ø–∞—Ä–æ–ª–∏ –∏ —Ç.–ø.) –¥–æ–ª–∂–Ω—ã –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ `application-local.yaml` (–ª–æ–∫–∞–ª—å–Ω–æ) –∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.
- –ü—Ä–∏–º–µ—Ä –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –ø—Ä–∏–≤–µ–¥—ë–Ω –≤ `application-local.yaml.example`, —á—Ç–æ–±—ã —É–ø—Ä–æ—Å—Ç–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ `application-local.yaml`. –≠—Ç–æ—Ç —Ñ–∞–π–ª **–Ω–µ –¥–æ–ª–∂–µ–Ω –ø–æ–ø–∞–¥–∞—Ç—å –≤ Git**.
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ .yaml —Ñ–∞–π–ª—ã —Å —Å–µ–∫—Ä–µ—Ç–∞–º–∏ –≤ Git.
---

## üõ† –°–±–æ—Ä–∫–∞

–°–±–æ—Ä–∫–∞ –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
mvn clean install
```

–ó–∞–ø—É—Å–∫ –æ–¥–Ω–æ–≥–æ –∏–∑ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤:

```bash
cd <–∏–º—è-—Å–µ—Ä–≤–∏—Å–∞>
mvn spring-boot:run
```

---

## üêã Docker

–°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Docker:

### health-data-service:

```bash
docker build -t health-data-service -f Dockerfile-health-data-service .
docker run -p 8080:8080 health-data-service
```

### telegram-input-service:

```bash
docker build -t telegram-input-service -f Dockerfile-telegram-input-service .
docker run -p 8081:8081 telegram-input-service
```

### pdf-service:

```bash
docker build -t pdf-service -f Dockerfile-pdf-service .
docker run -p 8083:8083 pdf-service
```

---

### üì° Ping endpoint

–í–æ –≤—Å–µ—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞—Ö —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø—Ä–æ—Å—Ç–æ–π —ç–Ω–¥–ø–æ–∏–Ω—Ç `/ping`, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞.  
–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º GET-–∑–∞–ø—Ä–æ—Å–µ `/ping` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å—Ç—Ä–æ–∫–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ: `"Ping <service-name>: OK"`

---

## üìÉ CHANGELOG

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–º. –≤ [CHANGELOG.md](./CHANGELOG.md)